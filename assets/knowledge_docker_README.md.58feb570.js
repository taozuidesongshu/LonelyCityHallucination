import{_ as s,o as a,c as n,N as l}from"./chunks/framework.60272d8a.js";const E=JSON.parse('{"title":"docker 容器常用操作详解","description":"","frontmatter":{},"headers":[],"relativePath":"knowledge/docker/README.md","lastUpdated":1706686109000}'),o={name:"knowledge/docker/README.md"},p=l(`<h1 id="docker-容器常用操作详解" tabindex="-1">docker 容器常用操作详解 <a class="header-anchor" href="#docker-容器常用操作详解" aria-label="Permalink to &quot;docker 容器常用操作详解&quot;">​</a></h1><h2 id="_1-创建容器" tabindex="-1">1.创建容器 <a class="header-anchor" href="#_1-创建容器" aria-label="Permalink to &quot;1.创建容器&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 新建并启动一个srs镜像的容器</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">run</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-it</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--restart=always</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1985</span><span style="color:#C3E88D;">:1985</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-v</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/dev:/dev2</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-v</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/mnt/nfs:/mnt/volume1</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--name</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">srs-service</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">srs</span></span>
<span class="line"><span style="color:#BABED8;">--restart</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">always</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;"># 表示开机启用</span></span>
<span class="line"><span style="color:#FFCB6B;">-p</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1985</span><span style="color:#C3E88D;">:1985</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;"># 表示主机端口与docker端口的映射</span></span>
<span class="line"><span style="color:#FFCB6B;">-v</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/mnt/nfs:/mnt/volume1</span><span style="color:#BABED8;">  </span><span style="color:#676E95;font-style:italic;"># 表示本机/mnt/nfs目录挂载到容器/mnt/volume1目录</span></span>
<span class="line"><span style="color:#FFCB6B;">srs</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;"># 表示镜像标识符</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_2-启动-停止容器" tabindex="-1">2.启动/停止容器 <a class="header-anchor" href="#_2-启动-停止容器" aria-label="Permalink to &quot;2.启动/停止容器&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight has-diff"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 启动</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">container</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">start</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">xxx</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 终止</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">container</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">stop</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">xxx</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查询修改</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">container</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">diff</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">xxx</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_3-进入容器" tabindex="-1">3.进入容器 <a class="header-anchor" href="#_3-进入容器" aria-label="Permalink to &quot;3.进入容器&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 容器列表（-a 命令可以查看所有已经创建的包括终止状态的容器）</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">container</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">ls</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-a</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 进入容器</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">exec</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-it</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">xxx</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/bin/bash</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">#xxx 为容器标识符</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 可以通过 docker container update 更新容器，例如 </span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">container</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">update</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--restart=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">no</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">container</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">i</span><span style="color:#BABED8;">d</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_4-导出和导入容器" tabindex="-1">4.导出和导入容器 <a class="header-anchor" href="#_4-导出和导入容器" aria-label="Permalink to &quot;4.导出和导入容器&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 导出容器 本地某个容器快照 使用命令 docker export </span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">export</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">xxx</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">container20201216.tar</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 导出容器 使用 docker import</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">cat</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">container20201216.tar</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">import</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">srs/srs:v1.0</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 通过指定 URL 或者某个目录来导入，例如</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">import</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">http://example.com/exampleimage.tgz</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">example/imagerepo</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_5-删除容器" tabindex="-1">5. 删除容器 <a class="header-anchor" href="#_5-删除容器" aria-label="Permalink to &quot;5. 删除容器&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 可以使用 docker container rm 来删除一个处于终止状态的容器, 如</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">container</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#BABED8;">  </span><span style="color:#C3E88D;">trusting_newton</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 如果数量太多要一个个删除可能会很麻烦，用下面的命令可以清理掉所有处于终止状态的容器。</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">container</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">prune</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_6-容器的信息" tabindex="-1">6. 容器的信息 <a class="header-anchor" href="#_6-容器的信息" aria-label="Permalink to &quot;6. 容器的信息&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># PID 信息</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">inspect</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--format</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{{ .State.Pid }}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">CONTAINER</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">ID</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">or</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">NAM</span><span style="color:#BABED8;">E</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># IP 地址</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">inspect</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--format</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{{ .NetworkSettings.IPAddress }}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">CONTAINER</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">ID</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">or</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">NAM</span><span style="color:#BABED8;">E</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 容器配置</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">inspect</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">CONTAINER</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">ID</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">or</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">NAM</span><span style="color:#BABED8;">E</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 容器监控</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">stats</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>已经运行的容器，可以通过 <code>docker update</code> 更新配置参数 <code>&lt;CONTAINER ID or NAME&gt;</code>（需要先停止容器的运行） 或者通过 <code>/var/lib/docker/containers/容器ID</code> 下的 <code>hostconfig.json</code> 等文件，修改启动配置参数</p></blockquote><h2 id="_7-控制容器系统资源占用" tabindex="-1">7. 控制容器系统资源占用 <a class="header-anchor" href="#_7-控制容器系统资源占用" aria-label="Permalink to &quot;7. 控制容器系统资源占用&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">create</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">#命令创建容器</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">run</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">#创建并启动容器的时候</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 可以使用:</span></span>
<span class="line"><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">-c</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">--cpu-shares[</span><span style="color:#BABED8;">=0] </span><span style="color:#676E95;font-style:italic;"># 参数来调整容器使用 CPU 的权重</span></span>
<span class="line"><span style="color:#FFCB6B;">-m</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">--memory[</span><span style="color:#BABED8;">=MEMORY] </span><span style="color:#676E95;font-style:italic;"># 参数来调整容器使用内存的大小。</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_8-docker-源" tabindex="-1">8. docker 源 <a class="header-anchor" href="#_8-docker-源" aria-label="Permalink to &quot;8. docker 源&quot;">​</a></h2><ul><li>Docker 官方中国区：<a href="https://registry.docker-cn.com" target="_blank" rel="noreferrer">https://registry.docker-cn.com</a></li><li>网易：<a href="http://hub-mirror.c.163.com" target="_blank" rel="noreferrer">http://hub-mirror.c.163.com</a></li><li>中国科技大学：<a href="https://docker.mirrors.ustc.edu.cn" target="_blank" rel="noreferrer">https://docker.mirrors.ustc.edu.cn</a></li><li>阿里云：<a href="https://y0qd3iq.mirror.aliyuncs.com" target="_blank" rel="noreferrer">https://y0qd3iq.mirror.aliyuncs.com</a></li></ul><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">&quot;registry-mirrors&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://y0qd3iq.mirror.aliyuncs.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="docker仓库" tabindex="-1">Docker仓库 <a class="header-anchor" href="#docker仓库" aria-label="Permalink to &quot;Docker仓库&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 登陆成功后，可以拉取账号下的全部镜像</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">login</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 退出账号</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">logout</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 搜索镜像</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">search</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 将本地的镜像推到仓库</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">push</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="dockerfile常用命令" tabindex="-1">Dockerfile常用命令 <a class="header-anchor" href="#dockerfile常用命令" aria-label="Permalink to &quot;Dockerfile常用命令&quot;">​</a></h2><p><a href="https://www.cnblogs.com/XiaoYang-sir/p/16092169.html?utm_source=gold_browser_extension" target="_blank" rel="noreferrer">传送门</a><a href="https://www.cnblogs.com/zhangxiaoji/p/16096432.html?utm_source=gold_browser_extension" target="_blank" rel="noreferrer">Docker 核心知识回顾</a></p><h3 id="from" tabindex="-1">FROM <a class="header-anchor" href="#from" aria-label="Permalink to &quot;FROM&quot;">​</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 语法：FROM &lt;image&gt;:&lt;tag&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># \`FROM\`:指明构建的新镜像是来自于哪个基础镜像 如果没有选择tag，那么默认为 Latest。</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 如果不以任何镜像为基础，那么 写法为：FROM scratch。scratch 镜像是一个空镜像，</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 可以用于构建 busybox 等超小镜像，可以说是真正的从零开始构建属于自己的镜像。</span></span>
<span class="line"><span style="color:#FFCB6B;">FROM</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">centos:7</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="maintainer" tabindex="-1">MAINTAINER <a class="header-anchor" href="#maintainer" aria-label="Permalink to &quot;MAINTAINER&quot;">​</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 指明镜像维护者及其联系方式（一般是邮箱地址）</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 语法：LABEL &lt;key&gt;=&lt;value&gt; &lt;key&gt;=&lt;value&gt; &lt;key&gt;=&lt;value&gt; ...</span></span>
<span class="line"><span style="color:#FFCB6B;">LABEL</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">maintainer=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">xxx.com</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="run-构建镜像时运行的shell命令" tabindex="-1">RUN 构建镜像时运行的Shell命令 <a class="header-anchor" href="#run-构建镜像时运行的shell命令" aria-label="Permalink to &quot;RUN 构建镜像时运行的Shell命令&quot;">​</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 构建镜像时运行的 Shell 命令，比如构建的新镜像中想在 /usr/local 目录下创建一个 Java 目录。</span></span>
<span class="line"><span style="color:#FFCB6B;">RUN</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mkdir</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/local/java</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="add-拷贝文件或目录到镜像中-如果是url或压缩包-会自动下载或自动解压。" tabindex="-1">ADD:拷贝文件或目录到镜像中, 如果是URL或压缩包，会自动下载或自动解压。 <a class="header-anchor" href="#add-拷贝文件或目录到镜像中-如果是url或压缩包-会自动下载或自动解压。" aria-label="Permalink to &quot;ADD:拷贝文件或目录到镜像中, 如果是URL或压缩包，会自动下载或自动解压。&quot;">​</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 语法：ADD &lt;src&gt;... &lt;dest&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">ADD</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">jdk-11.0.6_linux-x64_bin.tar.gz</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/local/java</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="copy-拷贝文件或目录到镜像中。用法和-add-一样-只是不支持自动下载和解压。" tabindex="-1">COPY 拷贝文件或目录到镜像中。用法和 ADD 一样，只是不支持自动下载和解压。 <a class="header-anchor" href="#copy-拷贝文件或目录到镜像中。用法和-add-一样-只是不支持自动下载和解压。" aria-label="Permalink to &quot;COPY 拷贝文件或目录到镜像中。用法和 ADD 一样，只是不支持自动下载和解压。&quot;">​</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 语法：COPY &lt;src&gt;... &lt;dest&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">COPY</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">jdk-11.0.6_linux-x64_bin.tar.gz</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/local/java</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="workdir" tabindex="-1">WORKDIR <a class="header-anchor" href="#workdir" aria-label="Permalink to &quot;WORKDIR&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 为\`RUN、CMD、以及COPY , ADD\`等设置默认工作目录,启动容器后会进入这个目录</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="volumn" tabindex="-1">Volumn <a class="header-anchor" href="#volumn" aria-label="Permalink to &quot;Volumn&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 指定容器挂载点（共享卷）, 用于容器间文件共享，某个容器修改了文件， 其他容器内的相同目录的文件也会同步更改， 要确保不同容器间有相同的目录</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="expose" tabindex="-1">Expose <a class="header-anchor" href="#expose" aria-label="Permalink to &quot;Expose&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 暴露容器运行时的监听端口给外部，可以指定端口是监听 TCP 还是 UDP，如果未指定协议，则默认为 TCP。</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 语法：EXPOSE &lt;port&gt; [&lt;port&gt;/&lt;protocol&gt;...]</span></span>
<span class="line"><span style="color:#FFCB6B;">EXPOSE</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">80</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">443</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">8080</span><span style="color:#C3E88D;">/tcp</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="cmd" tabindex="-1">CMD <a class="header-anchor" href="#cmd" aria-label="Permalink to &quot;CMD&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># :启动容器时执行的\`Shell\`命令, 会被\`docker run\` 的参数所覆盖</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 启动容器时执行的 Shell 命令，在 Dockerfile 中只能有一条 CMD 命令，如果设置了多条 CMD，只有最后一条 CMD 会生效。</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 语法：</span></span>
<span class="line"><span style="color:#FFCB6B;">CMD</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">executable</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">param1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">param2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">]</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 示例：CMD [&quot;/usr/local/tomcat/bin/catalina.sh&quot;, &quot;run&quot;]</span></span>
<span class="line"><span style="color:#FFCB6B;">CMD</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">param1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">param2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">]</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 示例：CMD [&quot;echo&quot;, &quot;$JAVA_HOME&quot;]</span></span>
<span class="line"><span style="color:#FFCB6B;">CMD</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">command</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">param1</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">param2</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 示例：CMD echo $JAVA_HOME</span></span>
<span class="line"><span style="color:#FFCB6B;">CMD</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">echo</span><span style="color:#BABED8;"> $JAVA_HOME</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="env" tabindex="-1">ENV <a class="header-anchor" href="#env" aria-label="Permalink to &quot;ENV&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 设置容器内环境变量。</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 语法：ENV &lt;key&gt; &lt;value&gt;添加单个，ENV &lt;key&gt;=&lt;value&gt; ...添加多个。</span></span>
<span class="line"><span style="color:#FFCB6B;">ENV</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">JAVA_HOME</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/local/java/jdk-11.0.6/</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="docker-image常用命令" tabindex="-1">Docker image常用命令 <a class="header-anchor" href="#docker-image常用命令" aria-label="Permalink to &quot;Docker image常用命令&quot;">​</a></h2><p><code>docker build</code>: 根据<code>dockerfile</code>构建一个镜像</p><p><code>docker images</code> : 列出所有的镜像</p><p><code>docker rmi</code> : 删除镜像</p><p><code>docker pull</code>: 在主机上使用一个不存在的镜像时docker会自动下载这个镜像， 想要提前下载就使用这个命令来下载</p><p><code>docker run</code> : 使用镜像生成容器并启动</p><ul><li><code>-- privileged</code> ：使容器中的root拥有真正的root权限，否则root只是外部一个普通用户权限</li><li><code>-t</code>: 在容器内指定一个伪终端或者终端</li><li><code>-i</code>: 允许控制台交互</li><li><code>-d</code>: 让容器在后台运行</li><li><code>-p</code>: 将内部的网络端口随机映射到主机上， 也可以指定端口</li><li><code>- P</code> : 随机端口映射,容器内部端口随机映射到主机的端口</li><li><code>--name</code>: 命名容器， 不指定docker会自动命名</li><li><code>-h/--hostname</code>: 设定容器的主机名， 会被写到容器内的/etc/hostname和/etc/hosts</li><li><code>-v</code>: 挂载宿主机的一个目录 /宿主机目录：/容器目录</li></ul><p><code>docker tag</code>: 给本地镜像打标签 取消标签使用 docker rmi</p><p><code>docker save</code>:将指定镜像保存成 tar 归档文件。 <code>docker save –o export.tar imageId </code></p><p><code>docker load</code> :用来载入镜像包</p><p><code>docker load –i export.tar</code></p><h2 id="docker-container常用命令" tabindex="-1">Docker container常用命令 <a class="header-anchor" href="#docker-container常用命令" aria-label="Permalink to &quot;Docker container常用命令&quot;">​</a></h2><p><code>docker ps</code>: 列出正在运行的容器</p><p><code>docker logs</code>: 查看容器内的标准输出</p><p><code>docker start </code> 容器启动</p><p><code>docker stop</code> 容器停止</p><p><code>docker rm /rm –f</code> : 删除容器</p><p><code>docker port</code> : 显示容器的端口</p><p><code>docker top</code>: 查看容器内运行的进程</p><p><code>docker exec</code> :在运行的容器中执行命令 <code>- i</code> 允许控制台交互 <code>-t</code> 在容器内指定一个伪终端或者终端</p><p><code>docker inspect</code> : 查看容器的底层信息， 返回容器的配置和状态信息</p><p><code>docker cp</code>:容器和宿主机之间的文件复制</p><p>下载文件 <code>docker cp </code><code>容器ID:/home/test C://Users//Administrator//Desktop</code></p><p>上传文件 <code>docker cp </code><code>C://Users//Administrator//Desktop//test2 容器ID:/home</code></p><p><code>docker commit</code>:从容器创建一个新的镜像</p><p><code>ocker commit containerId aaa:tag</code></p><p><code>-m</code> : 提交的描述信息</p><p><code>-a</code>：指定镜像作者</p><h2 id="命令" tabindex="-1">命令 <a class="header-anchor" href="#命令" aria-label="Permalink to &quot;命令&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 查看容器资源占用</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">stats</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--no-stream</span><span style="color:#BABED8;">  </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 重启指定容器</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">restart</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">容器id</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="docker配置文件-etc-docker-daemon-json详解" tabindex="-1">Docker配置文件/etc/docker/daemon.json详解 <a class="header-anchor" href="#docker配置文件-etc-docker-daemon-json详解" aria-label="Permalink to &quot;Docker配置文件/etc/docker/daemon.json详解&quot;">​</a></h2><p>该文件作为Docker Engine的配置管理文件，几乎涵盖了所有docker命令行启动可以配置的参数。默认是没有的，需要手动创建</p><h2 id="docker-daemon-json各配置详解" tabindex="-1">docker- daemon.json各配置详解 <a class="header-anchor" href="#docker-daemon-json各配置详解" aria-label="Permalink to &quot;docker- daemon.json各配置详解&quot;">​</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;allow-nondistributable-artifacts&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> [], </span><span style="color:#676E95;font-style:italic;">#不对外分发的产品提交的registry仓库</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;api -cors-header&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">         </span><span style="color:#676E95;font-style:italic;">#在引擎API中设置CORS标头</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;authorization - plugins&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;">[],    </span><span style="color:#676E95;font-style:italic;">#要加载的授权插件</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;bridge&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">           </span><span style="color:#676E95;font-style:italic;">#将容器附加到网桥</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;cgroup -parent&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">           </span><span style="color:#676E95;font-style:italic;">#为所有容器设置父cgroup</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;cluster -store&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">           </span><span style="color:#676E95;font-style:italic;">#分布式存储后端的URL</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;cluster -store- opts&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;">{}</span><span style="color:#FFCB6B;">,</span><span style="color:#BABED8;">       </span><span style="color:#676E95;font-style:italic;">#设置集群存储选项（默认map []）</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;cluster -advertise&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">       </span><span style="color:#676E95;font-style:italic;">#要通告的地址或接口名称</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;data -root&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;"> /var/lib/docker </span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">           </span><span style="color:#676E95;font-style:italic;">#Docker运行时使用的根路径，默认/var/lib/ docker</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;debug&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">true</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">           </span><span style="color:#676E95;font-style:italic;">#启用调试模式，启用后，可以看到很多的启动信息。默认false</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;default -gateway&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">          </span><span style="color:#676E95;font-style:italic;">#容器默认网关IPv4地址</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;default -gateway-v6&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">       </span><span style="color:#676E95;font-style:italic;">#容器默认网关IPv6地址</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;default - runtime&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#FFCB6B;">&quot;runc&quot;</span><span style="color:#FFCB6B;">,</span><span style="color:#BABED8;">       </span><span style="color:#676E95;font-style:italic;">#容器的默认OCI运行时（默认为&quot; runc&quot;）</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;default - ulimits&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;">{}</span><span style="color:#FFCB6B;">,</span><span style="color:#BABED8;">           </span><span style="color:#676E95;font-style:italic;">#容器的默认ulimit（默认[]）</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;dns&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> [],       </span><span style="color:#676E95;font-style:italic;">#设定容器DNS的地址，在容器的 /etc/ resolv.conf文件中可查看。</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;dns -opts&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> [],                  </span><span style="color:#676E95;font-style:italic;">#容器 /etc/ resolv.conf 文件，其他设置</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;dns - search&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> [],         </span><span style="color:#676E95;font-style:italic;">#设定容器的搜索域，当设定搜索域为 .example.com 时，在搜索一个名为 host 的 主机时，DNS不仅搜索host，还会搜索host.example.com 。 注意：如果不设置， Docker 会默认用主机上的  /etc/ resolv.conf 来配置容器。</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;exec - opts&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> [],          </span><span style="color:#676E95;font-style:italic;">#运行时执行选项</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;exec -root&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">          </span><span style="color:#676E95;font-style:italic;">#执行状态文件的根目录（默认为’/var/run/ docker‘）</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;fixed -cidr&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">         </span><span style="color:#676E95;font-style:italic;">#固定IP的IPv4子网</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;fixed -cidr-v6&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">      </span><span style="color:#676E95;font-style:italic;">#固定IP的IPv6子网</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;group&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">           </span><span style="color:#676E95;font-style:italic;">#UNIX套接字的组（默认为&quot;docker&quot;）</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;graph&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#FFCB6B;">&quot;/var/lib/docker&quot;</span><span style="color:#FFCB6B;">,</span><span style="color:#BABED8;">  </span><span style="color:#676E95;font-style:italic;">#已废弃，使用data-root代替，查看docker版本</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;hosts&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> [],           </span><span style="color:#676E95;font-style:italic;">#设置容器hosts</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;icc&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">false</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">        </span><span style="color:#676E95;font-style:italic;">#启用容器间通信（默认为true）</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;insecure-registries&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;"> 120.123 . 122.123 : 12312 </span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">],           </span><span style="color:#676E95;font-style:italic;">#设置私有仓库地址可以设为http</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;ip&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#FFCB6B;">&quot; 0.0 . 0.0 &quot;</span><span style="color:#FFCB6B;">,</span><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">#绑定容器端口时的默认IP（默认0. 0.0 . 0 ）</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;iptables&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">false</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">   </span><span style="color:#676E95;font-style:italic;">#启用iptables规则添加（默认为true）</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;ipv6&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">false</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">       </span><span style="color:#676E95;font-style:italic;">#启用IPv6网络</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;ip -forward&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">false</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">       </span><span style="color:#676E95;font-style:italic;">#默认true, 启用 net.ipv4.ip_forward ,进入容器后使用 sysctl -a |  grepnet.ipv4.ip_forward 查看</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;ip -masq&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">false</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">           </span><span style="color:#676E95;font-style:italic;">#启用IP伪装（默认为true）</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;labels&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;">[</span><span style="color:#FFCB6B;">&quot;nodeName =node- 121 &quot;</span><span style="color:#FFCB6B;">],</span><span style="color:#BABED8;">           </span><span style="color:#676E95;font-style:italic;">#docker主机的标签，很实用的功能,例如定义：–label nodeName=host- 121</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;live -restore&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">true</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">     </span><span style="color:#676E95;font-style:italic;">#在容器仍在运行时启用docker的实时还原</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;log -driver&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">          </span><span style="color:#676E95;font-style:italic;">#容器日志的默认驱动程序（默认为&quot; json- file &quot;）</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;log -level&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">           </span><span style="color:#676E95;font-style:italic;">#设置日志记录级别（&quot;调试&quot;，&quot;信息&quot;，&quot;警告&quot;，&quot;错误&quot;，&quot;致命&quot;）（默认为&quot;信息&quot;）</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;max -concurrent-downloads&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">3</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">         </span><span style="color:#676E95;font-style:italic;">#设置每个请求的最大并发下载量（默认为3）</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;max -concurrent-uploads&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">5</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">           </span><span style="color:#676E95;font-style:italic;">#设置每次推送的最大同时上传数（默认为5）</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;mtu&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;">  </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">              </span><span style="color:#676E95;font-style:italic;">#设置容器网络MTU</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;oom -score-adjust&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;">- </span><span style="color:#F78C6C;">500</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">          </span><span style="color:#676E95;font-style:italic;">#设置守护程序的oom_score_adj（默认值为- 500 ）</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;pidfile&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">           </span><span style="color:#676E95;font-style:italic;">#Docker守护进程的PID文件</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;raw -logs&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">false</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">           </span><span style="color:#676E95;font-style:italic;">#原始日志、全时间戳机制</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;registry -mirrors&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https: // 192.168.2.23:89</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">],   </span><span style="color:#676E95;font-style:italic;">#设置镜像加速地址</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;selinux -enabled&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">false</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">#默认  false ，启用selinux支持</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;storage -driver&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">         </span><span style="color:#676E95;font-style:italic;">#要使用的存储驱动程序</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;swarm -default-advertise-addr&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">          </span><span style="color:#676E95;font-style:italic;">#设置默认地址或群集广告地址的接口</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;tls&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">true</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">           </span><span style="color:#676E95;font-style:italic;">#默认  false , 启动TLS认证开关</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;tlscacert&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">         </span><span style="color:#676E95;font-style:italic;">#默认  ~/.docker/ ca.pem，通过CA认证过的的certificate文件路径</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;tlscert&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">           </span><span style="color:#676E95;font-style:italic;">#默认  ~/.docker/ cert.pem ，TLS的certificate文件路径</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;tlskey&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">            </span><span style="color:#676E95;font-style:italic;">#默认 ~/.docker/ key.pem，TLS的key文件路径</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;tlsverify&quot;</span><span style="color:#FFCB6B;">:true</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">           </span><span style="color:#676E95;font-style:italic;">#默认false，使用TLS并做后台进程与客户端通讯的验证</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;userland -proxy&quot;</span><span style="color:#FFCB6B;">:false</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">#使用userland代理进行环回流量（默认为true）</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;userns -remap&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;">        </span><span style="color:#676E95;font-style:italic;">#用户名称空间的用户/ 组设置</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;bip&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#FFCB6B;">&quot; 192.168 . 88.0 / 22 &quot;</span><span style="color:#FFCB6B;">,</span><span style="color:#BABED8;">          </span><span style="color:#676E95;font-style:italic;">#指定网桥IP</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;storage - opts&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;overlay2.override_kernel_check = true &quot;</span><span style="color:#FFCB6B;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;overlay2.size = 15G&quot;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">,         </span><span style="color:#676E95;font-style:italic;">#存储驱动程序选项</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;labels&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;">[</span><span style="color:#FFCB6B;">&quot;nodeName=node-121&quot;</span><span style="color:#FFCB6B;">],</span><span style="color:#BABED8;">        </span><span style="color:#676E95;font-style:italic;">#docker主机的标签</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;live-restore&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">true</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;log-driver&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#FFCB6B;">&quot;&quot;</span><span style="color:#FFCB6B;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;log-level&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#FFCB6B;">&quot;&quot;</span><span style="color:#FFCB6B;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;log-opts&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">{},</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;max-concurrent-downloads&quot;</span><span style="color:#FFCB6B;">:3,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;max-concurrent-uploads&quot;</span><span style="color:#FFCB6B;">:5,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;mtu&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;oom-score-adjust&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;">-500,</span></span>
<span class="line"><span style="color:#BABED8;">    </span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;log - opts&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;max - file &quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;"> 3 </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;max - size&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">10m</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#BABED8;">    },         </span><span style="color:#676E95;font-style:italic;">#容器默认日志驱动程序选项</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">&quot;iptables&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">false</span><span style="color:#BABED8;">          </span><span style="color:#676E95;font-style:italic;">#启用iptables规则添加（默认为true）</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br></div></div><h2 id="传送门" tabindex="-1">传送门 <a class="header-anchor" href="#传送门" aria-label="Permalink to &quot;传送门&quot;">​</a></h2><p><a href="https://www.cnblogs.com/deepJL/p/15954549.html#3.%20Docker%20%E7%9A%84%E8%BF%81%E7%A7%BB%E4%B8%8E%E5%A4%87%E4%BB%BD" target="_blank" rel="noreferrer">常用命令</a></p><p><a href="https://blog.csdn.net/CTF_zhang/article/details/122798454" target="_blank" rel="noreferrer">docker-compose: 未找到命令</a></p><p><a href="https://www.wjcms.net/archives/docker-chang-yong-ming-ling-zong-jie" target="_blank" rel="noreferrer"></a></p><h2 id="报错解决" tabindex="-1">报错解决 <a class="header-anchor" href="#报错解决" aria-label="Permalink to &quot;报错解决&quot;">​</a></h2><div class="language-text line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">Job for docker.service failed because the control process exited with error code.</span></span>
<span class="line"><span style="color:#babed8;">See &quot;systemctl status docker.service&quot; and &quot;journalctl -xeu docker.service&quot; for details.</span></span>
<span class="line"><span style="color:#babed8;"></span></span>
<span class="line"><span style="color:#babed8;">## 可能点1 是由docker安装的问题导致的,最好重新安装</span></span>
<span class="line"><span style="color:#babed8;"># 注意点:添加docker官方仓库, wheezy为debian版本号的代号,一定要写对</span></span>
<span class="line"><span style="color:#babed8;"></span></span>
<span class="line"><span style="color:#babed8;">## 可能点2 路径/etc/docker/daemon.json文件有错误,删除掉后重启doker</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><a href="https://blog.csdn.net/qq_43366662/article/details/107206153" target="_blank" rel="noreferrer"></a></p>`,84),e=[p];function t(r,c,i,y,B,D){return a(),n("div",null,e)}const d=s(o,[["render",t]]);export{E as __pageData,d as default};
