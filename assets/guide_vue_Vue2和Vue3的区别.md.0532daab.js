import{_ as s,o as n,c as a,N as e}from"./chunks/framework.60272d8a.js";const d=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"guide/vue/Vue2和Vue3的区别.md","lastUpdated":1706686109000}'),l={name:"guide/vue/Vue2和Vue3的区别.md"},p=e(`<h2 id="vue2和vue3的区别" tabindex="-1">Vue2和Vue3的区别 <a class="header-anchor" href="#vue2和vue3的区别" aria-label="Permalink to &quot;Vue2和Vue3的区别&quot;">​</a></h2><h5 id="_1-vue2和vue3双向数据绑定原理发生了改变" tabindex="-1">1：vue2和vue3双向数据绑定原理发生了改变 <a class="header-anchor" href="#_1-vue2和vue3双向数据绑定原理发生了改变" aria-label="Permalink to &quot;1：vue2和vue3双向数据绑定原理发生了改变&quot;">​</a></h5><p><code>vue2</code>的双向数据绑定是利用<code>ES5</code>的一个API<code>Object.definePropert()</code> 对数据进行劫持，结合发布订阅模式的方式来实现的。<br><code>vue3</code>中使用了<code>ES6</code>的<code>Proxy</code> API对数据代理。<br> 相比<code>vue2.x</code>，使用<code>proxy</code>的优势如下：</p><ul><li><code>defineProperty</code>只能监听某个属性，不能对全对象监听</li><li>可以省去<code>for in</code>，闭包等内容来提升效率(直接绑定整个对象即可)</li><li>可以监听数组，不用再去单独的对数组做特异性操作<code>vue3.x</code>可以检测到数组内部数据的变化。</li></ul><h5 id="_2-vue2和vue3定义数据变量和方法的改变" tabindex="-1">2: vue2和vue3定义数据变量和方法的改变 <a class="header-anchor" href="#_2-vue2和vue3定义数据变量和方法的改变" aria-label="Permalink to &quot;2: vue2和vue3定义数据变量和方法的改变&quot;">​</a></h5><p>在<code>vue2</code>中定义数据变量是<code>data(){}</code>，创建的方法要在<code>methods:{}</code>中。<br> 而在<code>vue3</code>中直接在<code>setup(){}</code>中，在这里面定义的变量和方法因为最终要在模板中使用，所以最后都得 <code>return</code>。<br> 如：</p><div class="language-vue line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">defineComponent</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">ref</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">defineComponent</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">App</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">setup</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//使用ref，说明这个数组就是全局在面板中可以使用了</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">girls</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#F07178;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">美女1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">美女2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">美女3</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">])</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">selectGirl</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//设置一个函数</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">selectGirlFun</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">index</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">//改变selectGirl的值要加value</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">//要得到值要加value ，这些都因为使用了ref函数</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">selectGirl</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">girls</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">value</span><span style="color:#F07178;">[</span><span style="color:#BABED8;">index</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//在标签中使用的变量要使用return</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//为什么要使用return，因为有的不需要在标签中使用的就不用return</span></span>
<span class="line"><span style="color:#F07178;">   </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">girls</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">selectGirl</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">selectGirlFun</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h5 id="_3-vue2和vue3生命周期钩子函数的不同" tabindex="-1">3: vue2和vue3生命周期钩子函数的不同 <a class="header-anchor" href="#_3-vue2和vue3生命周期钩子函数的不同" aria-label="Permalink to &quot;3: vue2和vue3生命周期钩子函数的不同&quot;">​</a></h5><ul><li><p><code>vue2</code>中的生命周期</p><ul><li><code>beforeCreate</code> 组件创建之前</li><li><code>created</code> 组件创建之后</li><li><code>beforeMount</code> 组价挂载到页面之前执行</li><li><code>mounted</code> 组件挂载到页面之后执行</li><li><code>beforeUpdate</code> 组件更新之前</li><li><code>updated</code> 组件更新之后</li></ul></li><li><p><code>vue3</code>中的生命周期</p><ul><li><code>setup</code> 开始创建组件</li><li><code>onBeforeMount</code> 组价挂载到页面之前执行</li><li><code>onMounted</code> 组件挂载到页面之后执行</li><li><code>onBeforeUpdate</code> 组件更新之前</li><li><code>onUpdated</code> 组件更新之后<br> 而且<code>Vue3.x</code> 生命周期在调用前需要先进行引入。<br> 如：</li></ul></li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;"> </span><span style="color:#BABED8;">reactive</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;"> </span><span style="color:#BABED8;">toRefs</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;"> </span><span style="color:#BABED8;">onMounted</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;"> </span><span style="color:#BABED8;">onBeforeMount</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;"> </span><span style="color:#BABED8;">onBeforeUpdate</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;"> </span><span style="color:#BABED8;">onUpdated</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>来一个总的生命周期对比，这样更便于记忆</li></ul><div class="language-text line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">Vue2--------------vue3</span></span>
<span class="line"><span style="color:#babed8;">beforeCreate  -&gt; setup()</span></span>
<span class="line"><span style="color:#babed8;">created       -&gt; setup()</span></span>
<span class="line"><span style="color:#babed8;">beforeMount   -&gt; onBeforeMount</span></span>
<span class="line"><span style="color:#babed8;">mounted       -&gt; onMounted</span></span>
<span class="line"><span style="color:#babed8;">beforeUpdate  -&gt; onBeforeUpdate</span></span>
<span class="line"><span style="color:#babed8;">updated       -&gt; onUpdated</span></span>
<span class="line"><span style="color:#babed8;">beforeDestroy -&gt; onBeforeUnmount</span></span>
<span class="line"><span style="color:#babed8;">destroyed     -&gt; onUnmounted</span></span>
<span class="line"><span style="color:#babed8;">activated     -&gt; onActivated</span></span>
<span class="line"><span style="color:#babed8;">deactivated   -&gt; onDeactivated</span></span>
<span class="line"><span style="color:#babed8;">errorCaptured -&gt; onErrorCaptured</span></span>
<span class="line"><span style="color:#babed8;"></span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>除了这些钩子函数外，<code>Vue3.x</code>还增加了<code>onRenderTracked</code> 和<code>onRenderTriggered</code>函数。</p><h5 id="_3-vue3中新加入了typescript和pwa的支持" tabindex="-1">3: vue3中新加入了TypeScript和PWA的支持 <a class="header-anchor" href="#_3-vue3中新加入了typescript和pwa的支持" aria-label="Permalink to &quot;3: vue3中新加入了TypeScript和PWA的支持&quot;">​</a></h5>`,14),o=[p];function c(r,t,i,y,F,u){return n(),a("div",null,o)}const b=s(l,[["render",c]]);export{d as __pageData,b as default};
